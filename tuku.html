<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="images/.jpg">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/index2.css">
  <title>2050</title>
  <style type="text/css">
  
  </style>
</head>
<body>
  <div class="header">
    <div class="header01">
    </div>
    <div class="header02">
      <a href="keli.html" target="_blank">来和可莉一起玩游戏吧！</a>
    </div>
  <div class="nav">
    <div class="wrap">
      <ul>
        <li class="li1">
            <a href="#">主页<span>|</span></a>
            <div class="nav-list1"></div>
         </li>
        <li class="li2">
           <a href="#">图库<span>|</span></a>
           <div class="nav-list1">
           </div>
         </li>
        <li class="li3">
          <a href="#">贺词<span>|</span></a>
          <div class="nav-list1"></div>
        </li>
        <li class="li4">
          <a href="#">版本<span>|</span></a>
          <div class="nav-list1"></div>
         </li>
      </ul>
    </div>
  </div>
  </div>
  <div class="banner">
    <img src="images/.jpg" alt="你好">
  </div>
  <div class="container">
    <div class="world01">
      <div class="world01-title"></div>
      <div class="world01-box">
        <a href="#">
          <img src="images/.jpg">
        </a>
        <a href="#">
          <img src="images/.jpg">
        </a>
      </div>
  <div id="world02">
    <ul id="imglist">
      <li><a href="#"><img src="img/pic1.jpeg" alt=""></a></li>
      <li><a href="#"><img src="img/pic2.jpeg" alt=""></a></li>
      <li><a href="#"><img src="img/pic3.jpeg" alt=""></a></li>
      <li><a href="#"><img src="img/pic4.jpeg" alt=""></a></li>
      <li><a href="#"><img src="img/pic1.jpeg" alt=""></a></li>
    </ul>

    <ul id="icolist">
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
    </ul>

    <div class="prev">《</div>
    <div class="next">》</div>
  </div>

  <div id="test"></div>
    </div>
  </div>
</body>
<script src="text/javascript">
    var esico =     document.getElementById('icolist').getElementsByTagName('li');
  var eicolist = document.querySelector('#icolist');
  var eimglist = document.querySelector('#imglist');
  var etest = document.querySelector('#test');
  var eprev = document.querySelector('.prev');
  var enext = document.querySelector('.next');
  var left = 0;
  var timer;
    esico[2].style.backgroundColor = 'red';
  run();
// alert(Math.floor(3190/800));

function run(){
  if (left <= -3200) {
    left = 0;
  }
  var m = Math.floor(-left/800) ;
  imglist.style.marginLeft = left + 'px';
  var n = (left % 800 == 0) ? n = 1200 : n = 6;
  left -= 10;
  icochange(m);
  timer = setTimeout(run,n);
}

function icochange(m){
  for (let index = 0; index < esico.length; index++) {
    esico[index].style.backgroundColor = '';
  }
  if (m < esico.length) {
    esico[m].style.backgroundColor = 'red';
  }
}

function imgchange(n){
  let lt = - (n  * 800)
  imglist.style.marginLeft = lt + 'px';
  left = lt;
}

eprev.onclick = function(){
  let prevgo = Math.floor(-left/800)-1;
  if (prevgo == -1) {
    prevgo =3;
  }
  imgchange(prevgo);
  icochange(prevgo);
}

enext.onclick = function(){
  let nextgo = Math.floor(-left/800)+1;
  if (nextgo == 4) {
    nextgo =0;
  }
  imgchange(nextgo);
  icochange(nextgo);
}

eicolist.onclick = function(){
  var tg = event.target;
  let ico = tg.innerHTML - 1;
  imgchange(ico);
  icochange(ico);
}

eimglist.onmouseover = function(){
  clearTimeout(timer);
}

eimglist.onmouseout = function(){
  run();
    }
</script>
</html>
